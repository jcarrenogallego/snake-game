(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+nph":function(t,s,e){"use strict";e.r(s);var i=e("8Y7J");class n{}var h=e("pMnS");class a{constructor(t,s,e){this.size=t,this.x=s,this.y=e}crash(t){const s=Math.abs(this.x-t.x),e=Math.abs(this.y-t.y);return s>=0&&s<this.size&&e>=0&&e<this.size}setX(t){this.x=t}setY(t){this.y=t}getX(){return this.x}getY(){return this.y}}class r extends a{constructor(t,s,e){super(t,s,e),this.newPart=null}draw(t){null!==this.newPart&&this.newPart.draw(t),t.fillStyle="#0000FF",t.fillRect(this.x,this.y,this.size,this.size)}setX(t){null!==this.newPart&&this.newPart.setX(this.x),super.setX(t)}setY(t){null!==this.newPart&&this.newPart.setY(this.y),super.setY(t)}addNew(){null===this.newPart?this.newPart=new r(this.size,this.x,this.y):this.newPart.addNew()}get new(){return this.newPart}}class o extends a{constructor(t){super(t,0,0),this.x=this.generate(),this.y=this.generate()}generate(){return 10*Math.floor(59*Math.random())}relocate(){this.x=this.generate(),this.y=this.generate()}draw(t){t.fillStyle="#FF0000",t.fillRect(this.x,this.y,this.size,this.size)}}class l{constructor(){this.velocity=30,this.sizeObs=10,this.snake=new r(this.sizeObs,20,20),this.cake=new o(this.sizeObs),this.moveInXAxis=!0,this.moveInYaXis=!0,this.xdir=0,this.ydir=0,this.keyUp=38,this.keyDown=40,this.keyRigth=37,this.keyLeft=39}ngOnInit(){}main(){return()=>{this.drawCanvas(),this.crashSnakeItSelf(),this.crashSnakeWitWall(),this.move(),this.snake.crash(this.cake)&&(this.cake.relocate(),this.snake.addNew())}}ngAfterViewInit(){document.body.onkeydown=this.control(),this.drawCanvas(),setInterval(this.main(),this.velocity)}control(){return t=>{const s=t.keyCode;this.handlerInXaxisSnakeMovement(s),this.handlerInYAxisSnakeMovement(s)}}handlerInYAxisSnakeMovement(t){this.moveInYaXis&&(this.moveSnakeToRigth(t),this.keyLeft===t&&this.moveSnakeToLeft())}moveSnakeToLeft(){this.xdir=this.sizeObs,this.moveSnakeInXAxis()}moveSnakeToRigth(t){this.keyRigth===t&&(this.xdir=-this.sizeObs,this.moveSnakeInXAxis())}moveSnakeInXAxis(){this.ydir=0,this.moveInYaXis=!1,this.moveInXAxis=!0}handlerInXaxisSnakeMovement(t){this.moveInXAxis&&(this.keyUp===t&&this.moveSnakeToUp(),this.keyDown===t&&this.moveSnakeToDown())}moveSnakeToDown(){this.ydir=this.sizeObs,this.moveSnakeInYAxis()}moveSnakeInYAxis(){this.xdir=0,this.moveInXAxis=!1,this.moveInYaXis=!0}moveSnakeToUp(){this.ydir=-this.sizeObs,this.moveSnakeInYAxis()}drawCanvas(){const t=document.getElementById("canvas"),s=t.getContext("2d");s.clearRect(0,0,t.width,t.height),this.snake.draw(s),this.cake.draw(s)}move(){const t=this.snake.getX()+this.xdir,s=this.snake.getY()+this.ydir;this.snake.setX(t),this.snake.setY(s)}crashSnakeItSelf(){let t=null;for(this.snake.new&&(t=this.snake.new.new);t;)this.snake.crash(t)?this.gameOver():t=t.new}crashSnakeWitWall(){(this.snake.getX()<0||this.snake.getX()>590||this.snake.getY()<0||this.snake.getY()>590)&&this.gameOver()}gameOver(){this.velocity=80,this.sizeObs=10,this.snake=new r(this.sizeObs,20,20),this.cake=new o(this.sizeObs),this.moveInXAxis=!0,this.moveInYaXis=!0,this.xdir=0,this.ydir=0,alert("you have lost")}}var c=i.ib({encapsulation:0,styles:[[".canvas-container[_ngcontent-%COMP%]{border:1px solid #ccc}"]],data:{}});function k(t){return i.vb(0,[(t()(),i.kb(0,0,null,null,0,"canvas",[["class","canvas-container"],["height","600"],["id","canvas"],["width","600"]],null,null,null,null,null))],null,null)}function u(t){return i.vb(0,[(t()(),i.kb(0,0,null,null,1,"app-snake",[],null,null,null,k,c)),i.jb(1,4308992,null,0,l,[],null,null)],function(t,s){t(s,1,0)},null)}var v=i.gb("app-snake",l,u,{},{},[]),d=e("SVse"),w=e("iInd");class m{}e.d(s,"SnakeModuleNgFactory",function(){return y});var y=i.hb(n,[],function(t){return i.sb([i.tb(512,i.j,i.T,[[8,[h.a,v]],[3,i.j],i.u]),i.tb(4608,d.i,d.h,[i.r,[2,d.o]]),i.tb(1073742336,d.b,d.b,[]),i.tb(1073742336,w.l,w.l,[[2,w.q],[2,w.k]]),i.tb(1073742336,m,m,[]),i.tb(1073742336,n,n,[]),i.tb(1024,w.i,function(){return[[{path:"",component:l}]]},[])])})}}]);